<script src="https://cdn.tiny.cloud/1/1iupv2mkaaja4m62s5dss8ty6hyi9ylrhfgikwy2c7976fl4/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>

<!-- Galleri-knapp under editorn -->
<button type="button" class="btn btn-secondary mb-2" id="openGalleryBtn">
    Välj bild från galleri
</button>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        setTimeout(() => {
            const target = document.querySelector('#contentArea');
            if (!target) return;

            tinymce.init({
                selector: '#contentArea',
                menubar: false,
                height: 400,
                plugins: 'link image code lists',
                toolbar: 'undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link image | code',
                setup: function (editor) {
                    window.activeEditor = editor;
                    console.log("Textarea content at init:", document.querySelector('#contentArea').value);
                }
            });
        }, 100); // Delay 100ms
    });
</script>
